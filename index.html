<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Maxi LingLing â€” Die tapfere Giraffe</title>
  <meta name="description" content="Die Geschichte von Maxi LingLing, einer mutigen LingLing-Giraffe. Eine kleine Website mit Bildern, Geschichte und AktivitÃ¤ten." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="#" aria-label="Maxi LingLing Startseite">
        <img src="assets/maxi-lingling.svg" alt="Illustration von Maxi LingLing" class="logo-img" />
        <span class="site-title">Maxi LingLing</span>
      </a>

      <nav class="main-nav" aria-label="Hauptnavigation">
        <button id="navToggle" class="nav-toggle" aria-expanded="false" aria-controls="navList">MenÃ¼</button>
        <ul id="navList" class="nav-list" hidden>
          <li><a href="#geschichte">Geschichte</a></li>
          <li><a href="#abenteuer">Abenteuer</a></li>
          <li><a href="#galerie">Galerie</a></li>
          <li><a href="#spiele">Spiele</a></li>
          <li><a href="#kontakt">Kontakt</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" aria-labelledby="hero-title">
      <div class="container hero-grid">
        <div class="hero-text">
          <h1 id="hero-title">Maxi LingLing â€” Die tapfere LingLing-Giraffe</h1>
          <p class="lead">Lerne Maxi kennen: freundlich, neugierig und immer bereit, anderen zu helfen â€” egal wie groÃŸ die Herausforderung ist.</p>
          <p><a class="cta" href="#geschichte">Mehr Ã¼ber Maxi</a></p>
        </div>

        <div class="hero-art" aria-hidden="true">
          <img src="assets/maxi-lingling.svg" alt="" class="hero-img" />
        </div>
      </div>
    </section>

    <section id="geschichte" class="section" aria-labelledby="geschichte-title">
      <div class="container">
        <h2 id="geschichte-title">Die Geschichte von Maxi</h2>
        <p>
          Maxi LingLing wurde in einer sonnigen Savanne geboren. Schon als kleines Giraffenkind zeigte Maxi groÃŸen Mut:
          Wenn ein anderer Freund Hilfe brauchte, lief Maxi sofort los â€” auch wenn die Aufgabe schwierig aussah.
          Maxi glaubt, dass Freundlichkeit und Mut die Welt besser machen.
        </p>

        <blockquote class="quote" aria-label="Zitat von Maxi">
          â€žJungs, ihr mÃ¼sst jetzt mal gscheid arbeiten!â€œ â€” Maxi LingLing
        </blockquote>

        <h3>Was Maxi besonders macht</h3>
        <ul>
          <li>GroÃŸes Herz: Maxi hilft immer Freunden in Not.</li>
          <li>Neugier: Maxi erkundet neue Orte und lernt jeden Tag dazu.</li>
          <li>liebe zu Jenni: Maxi liebt Jenniffer Ã¼ber alles.</li>
        </ul>
      </div>
    </section>

    <section id="abenteuer" class="section alt" aria-labelledby="abenteuer-title">
      <div class="container">
        <h2 id="abenteuer-title">Abenteuer & Lektionen</h2>
        <article class="card">
          <h3>Der mutige Fluss</h3>
          <p>
            Als der Fluss nach einem groÃŸen Regen stark war, half Maxi zwei kleinen Flamingos, das andere Ufer zu erreichen.
            Maxi baute eine kleine BrÃ¼cke aus Ã„sten und hielt alle sicher. So lernten die Flamingos: Zusammen schaffen wir alles.
          </p>
        </article>

        <article class="card">
          <h3>Der hohe HÃ¼gel</h3>
          <p>
            Maxi Ã¼berwand seine eigene Angst vor HÃ¶he, um von einem HÃ¼gel aus die Richtung eines verlorenen Zebra-FÃ¼chsers zu zeigen.
            Manchmal bedeutet Mut, seine eigenen Grenzen zu erkennen â€” und trotzdem zu handeln.
          </p>
        </article>
      </div>
    </section>

    <section id="galerie" class="section" aria-labelledby="galerie-title">
      <div class="container">
        <h2 id="galerie-title">Galerie</h2>
        <div class="gallery" role="list">
          <figure role="listitem" class="gallery-item">
            <img src="assets/maxi-lingling.svg" alt="Maxi lÃ¤chelt freundlich" />
            <figcaption>Maxi lÃ¤chelt</figcaption>
          </figure>
          <figure role="listitem" class="gallery-item">
            <img src="assets/giraffe-happy.svg" alt="Maxi springt vor Freude" />
            <figcaption>Maxi ist glÃ¼cklich</figcaption>
          </figure>
          <figure role="listitem" class="gallery-item">
            <img src="assets/giraffe-eating.svg" alt="Maxi frisst BlÃ¤tter vom Baum" />
            <figcaption>Maxi frisst BlÃ¤tter</figcaption>
          </figure>
          <figure role="listitem" class="gallery-item">
            <img src="assets/giraffe-running.svg" alt="Maxi lÃ¤uft und spielt" />
            <figcaption>Maxi lÃ¤uft</figcaption>
          </figure>
          <figure role="listitem" class="gallery-item">
            <img src="assets/giraffe-sleeping.svg" alt="Maxi schlÃ¤ft friedlich" />
            <figcaption>Maxi schlÃ¤ft</figcaption>
          </figure>
          <figure role="listitem" class="gallery-item">
            <img src="assets/giraffe-baby.svg" alt="Kleine Baby-Giraffe" />
            <figcaption>Baby Giraffe</figcaption>
          </figure>
        </div>
      </div>
    </section>

    <section id="spiele" class="section alt" aria-labelledby="spiele-title">
      <div class="container">
        <h2 id="spiele-title">Giraffen-Spiele</h2>
        <p>Spiele mit Maxi und hab SpaÃŸ! WÃ¤hle ein Spiel aus:</p>
        
        <!-- Memory Game -->
        <article class="card game-card">
          <h3>ðŸŽ´ Giraffen-Memory</h3>
          <p>Finde die passenden Giraffen-Paare! Klicke auf die Karten, um sie aufzudecken.</p>
          <div id="memoryGame" class="memory-game">
            <div class="memory-card" data-card="happy">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-happy.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="happy">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-happy.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="eating">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-eating.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="eating">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-eating.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="sleeping">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-sleeping.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="sleeping">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-sleeping.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="running">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-running.svg" alt="Giraffe" /></div>
            </div>
            <div class="memory-card" data-card="running">
              <div class="card-front">?</div>
              <div class="card-back"><img src="assets/giraffe-running.svg" alt="Giraffe" /></div>
            </div>
          </div>
          <div class="game-stats">
            <p>ZÃ¼ge: <span id="memoryMoves">0</span> | Paare gefunden: <span id="memoryPairs">0</span>/4</p>
            <button class="btn" onclick="resetMemoryGame()">Neu starten</button>
          </div>
        </article>

        <!-- Click Game -->
        <article class="card game-card">
          <h3>ðŸ‘† Finde die Giraffe!</h3>
          <p>Klicke so schnell wie mÃ¶glich auf die Giraffe! Du hast 30 Sekunden.</p>
          <div id="clickGame" class="click-game">
            <div class="click-game-area">
              <img id="clickableGiraffe" src="assets/giraffe-baby.svg" alt="Klick mich!" class="clickable-giraffe" />
            </div>
            <div class="game-stats">
              <p>Punkte: <span id="clickScore">0</span> | Zeit: <span id="clickTime">30</span>s</p>
              <button class="btn" onclick="startClickGame()">Spiel starten</button>
            </div>
          </div>
        </article>

        <!-- Quiz Game -->
        <article class="card game-card">
          <h3>ðŸ§  Giraffen-Quiz</h3>
          <p>Teste dein Wissen Ã¼ber Giraffen!</p>
          <div id="quizGame" class="quiz-game">
            <div id="quizQuestion" class="quiz-question">
              <p>Klicke auf "Quiz starten" um zu beginnen!</p>
            </div>
            <div id="quizOptions" class="quiz-options"></div>
            <div class="game-stats">
              <p>Richtige Antworten: <span id="quizScore">0</span>/<span id="quizTotal">5</span></p>
              <button class="btn" onclick="startQuiz()">Quiz starten</button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <section id="kontakt" class="section" aria-labelledby="kontakt-title">
      <div class="container">
        <h2 id="kontakt-title">Kontakt</h2>
        <p>Hast du eine Idee fÃ¼r ein neues Abenteuer oder mÃ¶chtest du Maxi eine Nachricht schicken?</p>

        <form class="contact-form" onsubmit="submitForm(event)" aria-label="Kontaktformular">
          <label>
            Dein Name
            <input type="text" name="name" id="name" required />
          </label>

          <label>
            Nachricht
            <textarea name="message" id="message" rows="4" required></textarea>
          </label>

          <button type="submit" class="btn">Senden</button>
        </form>

        <p class="small">Alternativ: <a href="mailto:maxi@lingling.example">maxi@lingling.example</a></p>
      </div>
    </section>
  </main>
<script>
class ChaosChat {
  constructor(apiEndpoint = "https://tobiobis.pythonanywhere.com/api/chat") {
    this.api = apiEndpoint;
    this.events = [];
    this.files = {};
    this.initButton();
    this.pollEvents();
  }

  initButton() {
    this.button = document.createElement("button");
    this.button.textContent = "Open Chaos Chat";
    Object.assign(this.button.style, {
      position: "fixed",
      bottom: "10px",
      right: "10px",
      zIndex: 9999
    });
    document.body.appendChild(this.button);
    this.button.addEventListener("click", () => this.openChat());
  }

  openChat() {
    this.overlay = document.createElement("div");
    Object.assign(this.overlay.style, {
      position: "fixed",
      top: "0",
      left: "0",
      width: "100%",
      height: "100%",
      backgroundColor: "rgba(0,0,0,0.9)",
      color: "lime",
      fontFamily: "monospace",
      zIndex: 10000,
      display: "flex",
      flexDirection: "column"
    });
    document.body.appendChild(this.overlay);

    const header = document.createElement("div");
    Object.assign(header.style, { padding: "10px", display: "flex", justifyContent: "space-between" });
    header.innerHTML = `<span>Chaos Chat</span>`;
    const closeBtn = document.createElement("button");
    closeBtn.textContent = "X";
    closeBtn.onclick = () => this.overlay.remove();
    header.appendChild(closeBtn);
    this.overlay.appendChild(header);

    this.chatBox = document.createElement("div");
    Object.assign(this.chatBox.style, { flex: "1", overflowY: "auto", padding: "10px", whiteSpace: "pre-wrap" });
    this.overlay.appendChild(this.chatBox);

    const inputBar = document.createElement("div");
    Object.assign(inputBar.style, { padding: "10px", display: "flex", gap: "5px" });

    this.textInput = document.createElement("input");
    this.textInput.placeholder = "Type chaos...";
    this.textInput.style.flex = "1";

    const sendBtn = document.createElement("button");
    sendBtn.textContent = "Send";
    sendBtn.onclick = () => this.sendMessage();

    this.fileInput = document.createElement("input");
    this.fileInput.type = "file";

    const sendFileBtn = document.createElement("button");
    sendFileBtn.textContent = "Send File";
    sendFileBtn.onclick = () => this.sendFile();

    inputBar.appendChild(this.textInput);
    inputBar.appendChild(sendBtn);
    inputBar.appendChild(this.fileInput);
    inputBar.appendChild(sendFileBtn);
    this.overlay.appendChild(inputBar);
  }

  async sendMessage() {
    const text = this.textInput.value;
    if (!text) return;
    this.textInput.value = "";

    await fetch(this.api, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ type: "chat", payload: { text } })
    });
  }

  async sendFile() {
    const file = this.fileInput.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = async () => {
      const base64 = reader.result.split(",")[1]; // Base64 only
      const msg = `<file>${file.name}; ${file.type}; ${base64}</file>`;

      await fetch(this.api, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ type: "chat", payload: { text: msg } })
      });
    };
    reader.readAsDataURL(file);
    this.fileInput.value = "";
  }

  async pollEvents() {
    try {
      const res = await fetch(this.api, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ type: "poll", payload: {} })
      });
      const events = await res.json();
      events.forEach(e => this.addEvent(e));
    } catch (e) {
      console.error("ChaosChat poll failed", e);
    }
    setTimeout(() => this.pollEvents(), 500);
  }

  addEvent(event) {
    const msg = event.payload?.text;
    if (!msg || !this.chatBox) return;

    const div = document.createElement("div");

    // <file>name; type; base64</file>
    const fileMatch = msg.match(/^<file>(.+); (.+); (.+)<\/file>$/);
    if (fileMatch) {
      const [_, name, type, base64] = fileMatch;
      let el;
      if (type.startsWith("image/")) {
        el = document.createElement("img");
        el.src = `data:${type};base64,${base64}`;
        el.style.maxWidth = "100%";
      } else if (type.startsWith("video/")) {
        el = document.createElement("video");
        el.src = `data:${type};base64,${base64}`;
        el.controls = true;
        el.style.maxWidth = "100%";
      } else if (type.startsWith("audio/")) {
        el = document.createElement("audio");
        el.src = `data:${type};base64,${base64}`;
        el.controls = true;
      } else if (type === "application/pdf") {
        el = document.createElement("iframe");
        el.src = `data:${type};base64,${base64}`;
        el.style.width = "100%";
        el.style.height = "400px";
      } else {
        // Andere Dateien â†’ Download-Link
        el = document.createElement("a");
        el.href = `data:${type};base64,${base64}`;
        el.download = name;
        el.textContent = `Download: ${name}`;
      }
      div.appendChild(el);
    } else {
      div.textContent = msg;
    }

    this.chatBox.appendChild(div);
    this.chatBox.scrollTop = this.chatBox.scrollHeight;
  }
}

window.addEventListener("DOMContentLoaded", () => {
  new ChaosChat();
});
</script>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <p>Â© <span id="year"></span> Maxi LingLing â€” Sei mutig, sei freundlich.</p>
      <p class="small">Design: Simple &amp; freundlich â€” FÃ¼r Kinder und Junggebliebene.</p>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
